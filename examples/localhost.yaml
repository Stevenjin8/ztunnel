# This shows an example local config for ztunnel that adds a workload for localhost.
# This allows local testing by sending requests through the local ztunnel to other servers running on localhost.
workloads:
- uid: cluster1//v1/Pod/default/local
  name: local2
  namespace: default
  serviceAccount: default
  workloadIps: ["127.0.0.1"]
  protocol: HBONE
  node: local
  network: ""
  services: {}
# Define another local address, but this one uses TCP. This allows testing HBONE and TCP with one config.
- uid: cluster1//v1/Pod/default/local-tcp
  name: local
  namespace: default
  serviceAccount: default
  protocol: HBONE
  node: local
  network: ""
  networkGateway:
    destination: "/172.19.0.1"
    hboneMtlsPort: 15009
  workloadIps: []
  services:
    "default/google.com":
      80: 80
services:
- name: google
  namespace: default
  hostname: google.com
  subjectAltNames:
    - spiffe:///ns/default/sa/default
  vips:
    - /1.2.3.4
  ports:
    80: 8081
